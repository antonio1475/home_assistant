---
button_card_templates: !include_dir_merge_named "../../custom_components/ui_lovelace_minimalist/__ui_minimalist__/ulm_templates/"
# views: !include_dir_merge_list "views/"
 
# swipe_nav:
#   animate: swipe
#   swipe_amount: 20

views:
  - path: home
    icon: "mdi:home"
    cards:
      - type: vertical-stack
        cards:
          - type: custom:vertical-stack-in-card
            horizontal: true
            cards:
              - type: custom:mushroom-template-card
                icon: mdi:sun-thermometer
                icon_color: >-
                  {% if is_state('sun.sun','above_horizon') %}orange {% elif
                  is_state('sun.sun','below_horizon') %}indigo {% else %}grey{% endif %}
                badge_icon: >-
                  {% if 'Up' in states('input_select.temperature_trend_exterior') %}mdi:chevron-up
                  {% elif 'Down' in states('input_select.temperature_trend_exterior')%}mdi:chevron-down
                  {%else %}{% endif%}
                badge_color: >-
                  {% if 'Up' in states('input_select.temperature_trend_exterior') %}red
                  {% elif 'Down' in states('input_select.temperature_trend_exterior')%}light-blue
                  {% else%}disabled{% endif%}
                primary: >-
                  {% if is_state('sensor.terraza_temperature','unavailable')%}‚è≥{% else %}{{ states('sensor.terraza_temperature')}}¬∞{% endif%}
                secondary: >-
                  {% if is_state('sensor.terraza_humidity','unavailable')%}‚è≥{% else %}{{ states('sensor.terraza_humidity')}}%{% endif%}
                  
                  {% if states('sensor.home_temperature_difference_outside')|float > 0 %}+{%
                  endif %}{{states('sensor.home_temperature_difference_outside')}}¬∞                  
                multiline_secondary: true
                entity: sensor.terraza_temperature
                tap_action:
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.popup
                    data:
                      content:
                        type: custom:weather-chart-card
                        entity: weather.home_hourly
                double_tap_action:
                  action: more-info
                hold_action:
                  action: none
                fill_container: false
              - type: custom:mushroom-template-card
                icon: >-
                  {% if is_state("sensor.home_tado_mode","HOME") %}mdi:home
            
                  {% elif is_state("person.antonio","Work")
                  %}mdi:office-building-marker-outline
            
                  {% elif is_state("sensor.home_tado_mode","AWAY") %}mdi:run{% endif %}
                icon_color: >-
                  {% if states('sensor.home_temperature')|float > 27 %}red {% elif
                  states('sensor.home_temperature')|float > 24 %}amber {% elif
                  states('sensor.home_temperature')|float > 18 %}lime {% elif
                  states('sensor.home_temperature')|float > 12 %}blue {% else %}grey{% endif
                  %}
                badge_icon: >-
                  {% if 'Up' in states('input_select.temperature_trend_general') %}mdi:chevron-up
                  {% elif 'Down' in states('input_select.temperature_trend_general')%}mdi:chevron-down
                  {%else %}{% endif%}
                badge_color: >-
                  {% if 'Up' in states('input_select.temperature_trend_general') %}red
                  {% elif 'Down' in states('input_select.temperature_trend_general')%}light-blue
                  {% else%}disabled{% endif%}
                primary: >
                    {{ states('sensor.temperatura_general')|round(1) }}¬∞
                secondary: |-
                  {{ states('sensor.home_humidity')|round }}%
                  {{ (states('sensor.precio_final_luz_pvpc')|float * 100)|round }}¬¢
                multiline_secondary: true
                entity: sensor.home_temperature
                tap_action:
                  action: navigate
                  navigation_path: /energy-custom
                double_tap_action:
                  action: more-info
                hold_action:
                #   action: more-info
                  action: fire-dom-event
                  browser_mod:
                    service: browser_mod.more_info
                    data:
                      entity: sensor.habitacion_temperature
                # hold_action:
                #   action: navigate
                #   navigation_path: /config/devices/device/19e2f6fc33765c03f96f29943210c51f
              - type: custom:mushroom-template-card
                icon: >-
                  {% if is_state("climate.home", "auto")%}mdi:thermostat-box-auto{% elif
                  is_state("climate.home", "heat")%}mdi:radiator{% elif
                  is_state("climate.home", "off")%}mdi:radiator-off{% else
                  %}mdi:thermostat-box{% endif%}
                icon_color: >-
                  {% if is_state("climate.home", "auto")%}green{% elif
                  is_state("climate.home", "heat")%}deep-orange{% elif
                  is_state("climate.home", "off")%}grey{% else %}grey{% endif%}
                primary: >
                  {{ state_attr('climate.home','temperature')}}¬∞
                secondary: >
                  {% if is_state("climate.home", "heat")%}Manual{% else
                  %}{{states('climate.home') | title }}{% endif%}
            
                  {{ states('sensor.contador_contador_power_consumption')|round }}W
                # {{states('sensor.home_heating')|round(0) }}%
                multiline_secondary: true
                entity: climate.home
                badge_color: >-
                  {% set caldera = states('sensor.home_heating')|float %} {% if
                  is_state_attr("climate.home", "hvac_action","idle")%}disabled {% elif 0 <
                  caldera < 10 %}amber {% elif 10 < caldera < 40 %}orange {% elif 40 <
                  caldera < 80 %}deep-orange {% elif 80 < caldera < 101 %}red {% else
                  %}yellow{% endif %}
                badge_icon: >-
                  {% if
                  is_state_attr("climate.home","hvac_action","idle")%}mdi:clock-outline{%
                  elif is_state_attr("climate.home", "hvac_action","heating")%}mdi:fire{%
                  elif is_state_attr("climate.home", "hvac_action","off")%}{% else
                  %}mdi:help{% endif%}
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: more-info
          # - type: custom:mushroom-template-card
          #   primary: >-
          #     {{state_attr('sensor.iphone_de_antonio_geocoded_location','Locality')}}, {{state_attr('sensor.iphone_de_antonio_geocoded_location','Administrative Area')}}, {{state_attr('sensor.iphone_de_antonio_geocoded_location','Country')}}
          #   secondary: |-
          #     üïê{{ (( as_timestamp( now() ) -
          #         as_timestamp(
          #         states.sensor.iphone_de_antonio_geocoded_location.last_updated) ) / 60 )|
          #         round()}}m
            
          #     üß≠{{ (( as_timestamp( now()
          #         ) - as_timestamp(
          #         states.sensor.iphone_de_antonio_geocoded_location.last_changed) ) / 60 )|
          #         round()}}m
          #   icon: mdi:map-marker
          #   multiline_secondary: false
          #   icon_color: blue
          #   tap_action:
          #     action: more-info
          #   hold_action:
          #     action: none
          #   double_tap_action:
          #     action: none
          #   entity: sensor.iphone_de_antonio_geocoded_location
          #   badge_icon: mdi:face-man
          #   badge_color: black


        #   - type: horizontal-stack
        #     cards:
        #         - type: 'custom:button-card'
        #           template: card_script
        #           variables:
        #             ulm_card_script_title: Tele
        #             ulm_card_script_icon: 'mdi:tv'
        #           tap_action:
        #             action: call-service
        #             haptic: success
        #             service: script.convert_to_event
        #             service_data:
        #               command: 'tele'
        
          - type: conditional
            conditions:
              - entity: input_select.lavadora
                state: Completada
            card:
              type: custom:mushroom-template-card
              primary: Lavadora pendiente de vaciar
              icon: mdi:washing-machine
              icon_color: red
              entity: script.lavadora_vaciada
              tap_action:
                action: call-service
                confirmation:
                  text: Confirmar vaciado
                service: script.lavadora_vaciada
          - type: conditional
            conditions:
              - entity: input_boolean.cambio_lentillas_pendiente
                state: 'on'
            card:
              type: custom:mushroom-template-card
              primary: Cambio lentillas pendiente
              secondary: Tap to Snooze. Hold to reset.
              icon: mdi:glasses
              icon_color: light-blue
              tap_action:
                action: call-service
                confirmation:
                  text: ¬øPosponer 1 d√≠a?
                service: script.1642952864880
              entity: script.add_30_days_to_lentillas
          - type: conditional
            conditions:
              - entity: switch.plancha
                state: 'on'
            card:
              type: custom:mushroom-entity-card
              entity: switch.plancha
              name: La plancha est√° encendida
              secondary_info: last-changed
              icon: mdi:iron
              icon_color: red
              tap_action:
                action: call-service
                service: switch.turn_off
                service_data: {}
                target:
                  device_id: 3e8b1538cac6ec2c3b5343940c4f4116
              hold_action:
                action: more-info
          - type: conditional
            conditions:
              - entity: switch.wake_on_lan
                state: 'on'
              - entity: sensor.home_tado_mode
                state: AWAY
            card:
              type: custom:mushroom-entity-card
              entity: switch.wake_on_lan
              icon_color: red
              tap_action:
                action: more-info
              name: Ordenador est√° encencido mientras est√°s fuera
              hold_action:
                action: more-info

          - type: "horizontal-stack"
            cards:
              - type: 'custom:button-card'
                template:
                  - custom_card_room_8
                  - yellow_on
                name: Cocina
                entity: light.cocina
                icon: mdi:countertop-outline
                variables:
                  label_use_brightness: false
                  entity_1:
                    entity_id: light.cocina_auxiliar
                    templates:
                      - yellow_on
                    double_tap_action:
                      action: more-info
                  entity_2:
                    entity_id: switch.extractor_local
                    templates:
                      - indigo_on
                  entity_3:
                    entity_id: switch.lavaplatos
                    templates:
                      - red_on
                  entity_4:
                    entity_id: switch.lavadora_local
                    templates:
                      - red_on
                    double_tap_action:
                      action: more-info
                    tap_action:
                      action: more-info
                      entity: input_select.lavadora
                    hold_action:
                      action: more-info
                      entity: sensor.lavadora_local_power
                    
              - type: 'custom:button-card'
                template:
                  - custom_card_room_8
                  - yellow_on
                name: Despacho
                entity: light.despacho_group
                icon: mdi:chair-rolling
                hold_action:
                  haptic: success
                  action: call-service
                  service: automation.trigger
                  service_data:
                    entity_id: automation.despacho_encender
                variables:
                  label_use_brightness: true
                  label_use_temperature: true
                  label_use_temperature_entity: "sensor.temperatura_despacho_temperature"
                  entity_1:
                    icon: mdi:air-conditioner
                    entity_id: climate.ac_comedor
                    templates:
                      - blue_cool
                      - red_heat
                    tap_action:
                      action: more-info
                    #   entity: ac_comedor
                    double_tap_action:
                      action: more-info
                      entity: ac_comedor
                    hold_action:
                      action: call-service
                      service: climate.turn_off
                      service_data:
                        entity_id: climate.ac_comedor
                  entity_2:
                    entity_id: switch.purificador_despacho_local
                    templates:
                      - indigo_on
                    hold_action:
                      action: none
                  entity_3:
                    entity_id: switch.despacho_portatil
                    templates:
                      - teal_on
                    hold_action:
                        action: more-info
                        entity: switch.wake_on_lan
                  entity_4:
                    entity_id: switch.despacho_altavoz
                    templates:
                      - teal_on
                    tap_action:
                      action: more-info
                    hold_action:
                        action: call-service
                        service: script.music_in_office_spotcast
                  entity_5:
                    entity_id: fan.ventilador_despacho
                    icon: mdi:ceiling-fan
                    tap_action:
                      action: toggle
                    double_tap_action:
                      action: more-info
                    templates:
                      - blue_on
                  entity_6:
                    entity_id: switch.adguard_home_protection
                    templates:
                      - red_off
                  entity_7:
                    entity_id: switch.despacho_monitores
                    templates:
                      - teal_on
                  entity_8:
                    entity_id: switch.despacho_usb
                    templates:
                      - indigo_on
                      
          - type: "horizontal-stack"
            cards:
              - type: 'custom:button-card'
                template:
                  - custom_card_room_8
                  - yellow_on
                name: Habitaci√≥n
                entity: light.habitacion
                icon: mdi:bed-king-outline
                hold_action:
                    action: call-service
                    haptic: success
                    service: script.convert_to_event
                    service_data:
                      command: 'voycama' 
                variables:
                  label_use_brightness: true
                  label_use_temperature: true
                  label_use_temperature_entity: "sensor.temperatura_habitacion_temperature"
                  entity_1:
                    # entity_id: switch.habitacion_almohadilla
                    # templates:
                    #   - red_on
                    entity_id: climate.ac_habitacion
                    templates:
                      - blue_cool
                      - red_heat
                    tap_action:
                      action: more-info
                    double_tap_action:
                      action: more-info
                    hold_action:
                      action: call-service
                      service: climate.turn_off
                      service_data:
                        entity_id: climate.ac_habitacion
                  entity_2:
                    entity_id: fan.purificador_habitacion
                    templates:
                      - indigo_on
                    tap_action:
                        action: more-info
                    hold_action:
                        action: more-info
                        entity: switch.habitacion_purificador
                  entity_3:
                    entity_id: media_player.lg_tv
                    icon: mdi:television
                    templates:
                      - red_on
                    tap_action:
                      action: more-info
                  entity_4:
                    entity_id: switch.habitacion_despertador
                    templates:
                      - teal_on
                  entity_5:
                    entity_id: fan.ventilador_habitacion
                    icon: mdi:ceiling-fan
                    tap_action:
                      action: more-info
                    hold_action:
                      action: call-service
                      service: script.convert_to_action
                      service_data:
                        actions:
                          - service: fan.turn_off
                            entity_id: fan.ventilador_habitacion
                          - service: scene.turn_on
                            entity_id: scene.ventilador_habitacion_off
                    templates:
                      - blue_on
                  entity_6:
                    entity_id: switch.habitacion_bedside
                    # entity_id: humidifier.humidificador_habitacion
                    # entity_id: switch.habitacion_usb
                    templates:
                      - teal_on
                    #   - indigo_on
                  entity_7:
                    entity_id: light.tv_led_habitacion
                    templates:
                      - yellow_on
                  # entity_5:
                  #   entity_id: switch.calefactor_habitacion_local
                  #   templates:
                  #     - red_on
                  entity_8:
                    entity_id: light.mesita
                    templates:
                      - yellow_on
                    hold_action:
                        action: call-service
                        haptic: success
                        service: script.convert_to_event
                        service_data:
                          command: 'goodnight'


              - type: 'custom:button-card'
                template:
                  - custom_card_room_8
                  - yellow_on
                name: Comedor
                entity: light.comedor
                icon: mdi:sofa-outline
                hold_action:
                    haptic: success
                    action: call-service
                    service: script.convert_to_event
                    service_data:
                      command: 'comedor'
                variables:
                  label_use_brightness: true
                  label_use_temperature: true
                  label_use_temperature_entity: "climate.home"
                  entity_1:
                    icon: mdi:air-conditioner
                    entity_id: climate.ac_comedor
                    templates:
                      - blue_cool
                      - red_heat
                    tap_action:
                      action: more-info
                    #   entity: ac_comedor
                    double_tap_action:
                      action: more-info
                      entity: ac_comedor
                    hold_action:
                      action: call-service
                      service: scene.aire_comedor_cold_quick_on
                  entity_2:
                    entity_id: switch.purificador_comedor_local
                    templates:
                      - indigo_on
                  entity_3:
                    entity_id: media_player.samsungtv_smart
                    icon: mdi:television
                    templates:
                      - teal_on
                    tap_action:
                      action: navigate
                      navigation_path: remote-samsung
                    double_tap_action:
                      action: more-info
                    hold_action:
                      action: more-info
                      entity: sensor.tele_comedor_cost_day
                  entity_4:
                    entity_id: vacuum.lefant_n3_local
                    templates:
                      - purple_cleaning
                    icon: mdi:robot-vacuum
                    tap_action:
                        action: more-info
                        entity: vacuum.popup
                  entity_5:
                    entity_id: fan.ventilador_comedor
                    icon: mdi:ceiling-fan
                    templates:
                      - blue_on
                    tap_action:
                      action: more-info
                    hold_action:
                      action: call-service
                      service: script.convert_to_action
                      service_data:
                        actions:
                          - service: fan.turn_off
                            entity_id: fan.ventilador_comedor
                          - service: scene.turn_on
                            entity_id: scene.ventilador_comedor_off

                #   entity_6:
                #     entity_id: switch.usb_comedor
                #     templates:
                #       - teal_on
                #   entity_7:
                #     entity_id: switch.ambientador_comedor
                #     templates:
                #       - pink_on
                  entity_6:
                    entity_id: input_number.pienso_diario
                    icon: mdi:cat
                    tap_action:
                      action: more-info
                    double_tap_action:
                      action: navigate
                      navigation_path: /config/devices/device/9402c16b2d2c6531d7de7e69ea45cf1f
                    hold_action:
                      action: call-service
                      service: button.press
                      service_data:
                        entity_id: button.pienso_lily_quick_feed
                  entity_7:
                    entity_id: light.tv_led
                    icon: mdi:television-ambient-light
                    templates:
                      - yellow_on
                    double_tap_action:
                      action: more-info
                    hold_action:
                      action: call-service
                      service: script.convert_to_event
                      service_data:
                        command: 'tele'
   
          - type: grid
            square: true
            columns: 2
            cards:
              - type: 'custom:button-card' 
                template:
                  - custom_card_room_8
                  - yellow_on
                name: Entrada
                entity: light.entrada
                icon: mdi:door-closed
                variables:
                  label_use_brightness: true
                  entity_1:
                    entity_id: binary_sensor.entrada_cell_motion_detection
                    icon: mdi:eye-outline
                    templates:
                      - red_on
                    tap_action:
                      entity: camera.entrada_mainstream
                      action: more-info
                    double_tap_action:
                      entity: timer.persona_detectada
                      action: more-info
                    hold_action:
                      entity: binary_sensor.entrada_cell_motion_detection
                      action: more-info
                  entity_2:
                    entity_id: input_boolean.notificaciones_puerta_activas
                    icon: mdi:bell-off-outline
                    templates:
                      - red_off
                  entity_3:
                    entity_id: input_boolean.going_to_the_office
                    templates:
                      - blue_on
                  entity_4:
                    entity_id: script.convert_to_event
                    icon: mdi:home-export-outline
                    templates:
                      - grey_off
                    tap_action:
                        action: call-service
                        service: script.convert_to_event
                        service_data:
                          command: 'leaving'
                  entity_5:
                    entity_id: binary_sensor.casa_motion
                    icon: mdi:webcam
                    templates:
                      - red_on
                    tap_action:
                      entity: camera.casa
                      action: more-info
                    hold_action:
                      entity: switch.casa_privacy
                      action: more-info
                  entity_6:
                    entity_id: lock.portal_telefonillo
                    icon: mdi:door-open
                    templates:
                      - red_on
                    tap_action:
                      action: more-info
                    double_tap_action:
                      action: none
                    hold_action:
                      action: call-service
                      service: lock.unlock
                      service_data:
                        entity_id: lock.portal_telefonillo
                  entity_7:
                    entity_id: script.convert_to_event
                    icon: mdi:home-map-marker
                    templates:
                      - grey_off
                    tap_action:
                        action: call-service
                        service: script.convert_to_event
                        service_data:
                          command: 'voycasa'
                  entity_8:
                    entity_id: script.convert_to_event
                    icon: mdi:home-import-outline
                    templates:
                      - grey_off
                    tap_action:
                        action: call-service
                        service: script.convert_to_event
                        service_data:
                          command: 'arrivedhome'
        


              - type: conditional
                conditions:
                  - entity: timer.persona_detectada
                    state: active
                card:
                  camera_view: live
                  type: picture-glance
                  entities: []
                  camera_image: camera.entrada_mainstream
                  aspect_ratio: '1'
                  card_mod:
                    style: |
                      div.box {display:none; }

              - type: conditional
                conditions:
                  - entity: media_player.salon
                    state_not: 'off'
                  - entity: media_player.salon
                    state_not: unavailable
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.salon
                    # variables:
                    #     ulm_card_media_player_enable_volume_buttons_additional: false
                    #     ulm_card_media_player_player_controls_entity_1: "media_player.despacho"
                    #     ulm_card_media_player_player_controls_entity_2: "media_player.comedor_2"


                            
              - type: conditional
                conditions:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: media_player.salon
                        state: 'off'
                      - condition: state
                        entity: media_player.comedor
                        state_not: 'off'
                      - condition: state
                        entity: media_player.comedor
                        state_not: 'unavailable'
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.comedor
              - type: conditional
                conditions:
                  - entity: media_player.despertador
                    state_not: 'off'
                  - entity: media_player.despertador
                    state_not: unavailable
                  - entity: media_player.todos
                    state_not: playing
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.despertador
              - type: conditional
                conditions:
                  - entity: media_player.cocina
                    state_not: 'off'
                  - entity: media_player.cocina
                    state_not: 'unavailable'
                  - entity: media_player.todos
                    state_not: playing
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.cocina
              - type: conditional
                conditions:
                  - entity: media_player.bano
                    state_not: 'off'
                  - entity: media_player.todos
                    state_not: playing
                  - entity: media_player.bano
                    state_not: unavailable
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.bano
              - type: conditional
                conditions:
                  - entity: media_player.recibidor
                    state_not: 'off'
                  - entity: media_player.recibidor
                    state_not: 'unavailable'
                  - entity: media_player.todos
                    state_not: playing
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.recibidor
              - type: conditional
                conditions:
                  - entity: media_player.lg_tv
                    state_not: 'off'
                  - entity: media_player.media_group
                    state_not: playing
                card:
                    type: "custom:button-card"
                    template:
                      - custom_card_media_player_buttons
                    entity: media_player.lg_tv
              - type: conditional
                conditions:
                    - entity: media_player.samsungtv_smart
                      state_not: 'off'
                    - entity: media_player.media_group
                      state_not: playing
                card:
                    type: custom:mod-card
                    card:
                      type: conditional
                      conditions:
                        - entity: media_player.samsungtv_smart
                          state_not: 'off'
                        - entity: media_player.media_group
                          state_not: playing
                      card: 
                        type: "custom:button-card"
                        template: custom_card_media_player_buttons
                        entity: media_player.samsungtv_smart
                        variables:
                            ulm_card_tap_action: "navigate"
                            ulm_card_tap_navigate_path: "remote-samsung"
                            ulm_card_hold_action: "none"
                            ulm_card_double_tap_action: "none"
                            ulm_name_tap_action: "navigate"
                            ulm_name_tap_navigate_path: "remote-samsung"
                            ulm_name_hold_action: "none"
                            ulm_name_double_tap_action: "none"

            #   - type: conditional
            #     conditions:
            #       - entity: binary_sensor.morning
            #         state: 'on'
            #     card:
            #       - type: custom:mushroom-entity-card
            #         entity: automation.despacho_encender
            #         icon: mdi:chair-rolling
            #         icon_color: indigo
            #         name: Despacho
            #         tap_action:
            #           action: call-service
            #           service: script.convert_to_event
            #           data:
            #             command: despacho
            #           target: {}
            #         hold_action:
            #           action: none
            #         double_tap_action:
            #           action: none
            #         secondary_info: none
            #   - type: conditional
            #     conditions:
            #       - entity: binary_sensor.evening
            #         state: 'on'
            #     card:
            #           type: custom:mushroom-entity-card
            #           entity: automation.good_night
            #           icon: mdi:television
            #           icon_color: red
            #           name: TV
            #           tap_action:
            #             action: call-service
            #             service: script.convert_to_event
            #             data:
            #               command: tele
            #             target: {}
            #           hold_action:
            #             action: none
            #           double_tap_action:
            #             action: none
            #           secondary_info: none
            #   - type: conditional
            #     conditions:
            #       - entity: binary_sensor.night
            #         state: 'on'
            #     card:
            #         - type: custom:mushroom-entity-card
            #           entity: automation.good_night
            #           icon: mdi:bed-clock
            #           icon_color: deep-purple
            #           name: Ir a la cama
            #           tap_action:
            #             action: call-service
            #             service: script.convert_to_event
            #             data:
            #               command: voycama
            #             target: {}
            #           hold_action:
            #             action: none
            #           double_tap_action:
            #             action: none
            #           secondary_info: none
            #   - type: conditional
            #     conditions:
            #       - entity: binary_sensor.night
            #         state: 'on'
            #     card:
            #         - type: custom:mushroom-entity-card
            #           entity: automation.good_night
            #           icon: mdi:sleep
            #           icon_color: white
            #           name: Buenas noches
            #           tap_action:
            #             action: call-service
            #             service: script.convert_to_event
            #             data:
            #               command: goodnight
            #             target: {}
            #           hold_action:
            #             action: none
            #           double_tap_action:
            #             action: none
            #           secondary_info: none
            
            
          # - type: custom:mini-media-player
          #   entity: media_player.salon
          #   volume_stateless: true
          #   info: scroll
          #   volume_step: '2'
          #   artwork: cover
          #   hide:
          #     icon: true
          #     power: true
          #     icon_state: true
          #   style: |
          #     :host {
          #       z-index: 999;
          #       position: sticky;
          #       position: -webkit-sticky;
          #       bottom: 0;
          #     }
          #     ha-card {
          #       border-style: solid;
          #       border-radius: 15px;        
          #     }


          ### POPUPS 

          - type: custom:popup-card
            entity: vacuum.popup
            card:
                type: custom:vacuum-card
                entity: vacuum.lefant_n3
                actions:
                  start:
                    service: button.press
                    service_data:
                      entity_id:
                        - button.lefant_n3_local_start
                  stop:
                    service: button.press
                    service_data:
                      entity_id: button.lefant_n3_local_pause
                  pause:
                    service: button.press
                    service_data:
                      entity_id:
                        - button.lefant_n3_local_pause
                  return_to_base:
                    service: button.press
                    service_data:
                      entity_id:
                        - button.lefant_n3_local_dock
                stats:
                  default:
                    - entity_id: sensor.lefant_n3_local_battery
                      unit: '%'
                      subtitle: Battery
                    - entity_id: sensor.lefant_n3_local_cleaned_area
                      unit: m2
                      subtitle: Cleaned area
                    - entity_id: sensor.lefant_n3_local_clean_time
                      unit: minutes
                      subtitle: Clean time








          - type: custom:popup-card
            entity: camera.casa
            card:
              type: vertical-stack
              cards:
                - camera_view: live
                  type: picture-glance
                  title: Pasillo
                  entities:
                    - entity: button.casa_move_up
                      tap_action:
                        action: toggle
                    - entity: button.casa_move_down
                      tap_action:
                        action: toggle
                    - entity: button.casa_move_left
                      tap_action:
                        action: toggle
                    - entity: button.casa_move_right
                      tap_action:
                        action: toggle
                    - entity: switch.casa_privacy
                      tap_action:
                        action: toggle
                  camera_image: camera.pasillo_mainstream
                  tap_action:
                    action: more-info
                  hold_action:
                    action: navigate
                    navigation_path: /config/devices/device/b32e12f55f707acbbeae1886f7291d26
                - type: entities
                  entities:
                    - entity: number.casa_movement_angle
                      name: Movement Length
                    - entity: select.casa_move_to_preset
                  show_header_toggle: false
        
          - type: custom:popup-card
            entity: ac_comedor
            card:
                type: custom:vertical-stack-in-card
                cards:
                #   - type: custom:mushroom-title-card
                #     title: Aire Comedor
                #     alignment: center
                #   - type: custom:more-info-card
                #     entity: climate.ac_comedor
                #     title: Aire Comedor
                #   - type: thermostat
                #     entity: climate.ac_comedor
                #     name: []
                  - type: custom:mushroom-climate-card
                    entity: climate.ac_comedor
                    hvac_modes:
                      - cool
                      - heat
                      - dry
                      - fan_only
                      - 'off'
                  - type: custom:mushroom-climate-card
                    entity: climate.ac_comedor
                    primary_info: none
                    secondary_info: none
                    icon_type: none
                    show_temperature_control: true

                  - type: "custom:button-card"
                    template:
                      - card_input_datetime
                    entity: input_datetime.apagar_aire_a_las
                    variables:
                      ulm_card_input_datetime_name: "Apagar aire a las"
                    styles:
                      card:
                        - box-shadow: none



                
  - path: speakers
    subview: true
    icon: mdi:speaker
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:mini-media-player
            group: false
            volume_stateless: false
            toggle_power: false
            entity: media_player.todos
            artwork: cover
          - type: custom:mini-media-player
            group: false
            volume_stateless: true
            toggle_power: false
            entity: media_player.salon
            artwork: cover
            max_volume: '30'
            volume_step: '2'
            source: icon
            sound_mode: full
          - type: horizontal-stack
            cards:
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-start
                base_config:
                  preset: mushroom
                buttons:
                  - icon: mdi:monitor-speaker
                    tooltip: false
                    styles:
                      button:
                        color: grey
                        margin-right: 2px
                    tap_action:
                      action: more-info
                      entity: media_player.despacho
                  - icon: mdi:volume-minus
                    styles:
                      button:
                        border-top-right-radius: 0px
                        border-bottom-right-radius: 0px
                    tap_action:
                      action: fire-event
                      event_type: volume
                      event_data:
                        set: down
                        entity: media_player.despacho
                  - entity: media_player.despacho
                    layout: state
                    state: >-
                      {{ (state_attr(config.entity, 'volume_level') * 100) | round(0) |
                      int }}%
                    styles:
                      button:
                        border-radius: 0px
                        width: 100px
                  - icon: mdi:volume-plus
                    styles:
                      button:
                        border-top-left-radius: 0px
                        border-bottom-left-radius: 0px
                    tap_action:
                      action: fire-event
                      event_type: volume
                      event_data:
                        set: up
                        entity: media_player.despacho
              - type: custom:paper-buttons-row
                styles:
                  justify-content: flex-end
                base_config:
                  preset: mushroom
                buttons:
                  - icon: mdi:volume-minus
                    tooltip: false
                    styles:
                      button:
                        border-top-right-radius: 0px
                        border-bottom-right-radius: 0px
                    tap_action:
                      action: fire-event
                      event_type: volume
                      event_data:
                        set: down
                        entity: media_player.comedor
                  - entity: media_player.comedor
                    layout: state
                    state: >-
                      {{ (state_attr(config.entity, 'volume_level') * 100) | round(0) |
                      int }}%
                    styles:
                      button:
                        border-radius: 0px
                        width: 100px
                  - icon: mdi:volume-plus
                    styles:
                      button:
                        border-top-left-radius: 0px
                        border-bottom-left-radius: 0px
                    tap_action:
                      action: fire-event
                      event_type: volume
                      event_data:
                        set: up
                        entity: media_player.comedor
                  - icon: mdi:speaker-multiple
                    styles:
                      button:
                        color: grey
                        margin-left: 2px
                    tap_action:
                      action: more-info
                      entity: media_player.comedor
          - type: custom:mini-media-player
            group: false
            entity: media_player.recibidor
            toggle_power: false
            artwork: cover
          - type: custom:mini-media-player
            group: false
            artwork: cover
            entity: media_player.bano
            toggle_power: false
          - type: custom:mini-media-player
            group: false
            volume_stateless: false
            artwork: cover
            entity: media_player.cocina
            toggle_power: false
          - type: custom:mini-media-player
            group: false
            name: Habitaci√≥n
            artwork: cover
            entity: media_player.despertador
            toggle_power: false
          - type: custom:mini-media-player
            group: false
            artwork: cover
            entity: media_player.lg_tv
            toggle_power: false
            volume_stateless: true
            volume_step: '1'
          - type: custom:mini-media-player
            group: false
            artwork: cover
            entity: media_player.samsungtv_smart
            volume_stateless: true
            volume_step: '1'
            toggle_power: false

            

      - type: custom:mod-card
        card:
          type: custom:mushroom-chips-card
          chips:
            - type: back
        card_mod:
          style: |
            ha-card {display:none;}
            @media (orientation: portrait) {ha-card {display:block;position: absolute;bottom: -20px;}}



  - path: remote-samsung-lg-testing
    subview: true
    theme: minimalist-mobile
    icon: mdi:remote-tv
    badges: []
    cards:
      - type: custom:lg-remote-control
        entity: media_player.samsungtv_smart
        colors:
          buttons: ''
          background: ''
          text: ''
          border: ''
        color_buttons: true
        av_receiver_family: ''
        dimensions:
          scale: '0.9'
        keys:
          power:
            service: media_player.toggle
            service_data:
              entity_id: media_player.samsungtv_smart
          home:
            icon: mdi:home-circle-outline
            service: media_player.play_media
            service_data:
              media_content_type: send_key
              media_content_id: KEY_HOME
              entity_id: media_player.samsungtv_smart
          return:
            icon: mdi:arrow-left-circle-outline
            service: media_player.play_media
            service_data:
              media_content_type: send_key
              media_content_id: KEY_RETURN
              entity_id: media_player.samsungtv_smart
          channel_up:
            icon: mdi:chevron-up-circle-outline
            service: media_player.play_media
            service_data:
              media_content_type: send_key
              media_content_id: KEY_CHUP
              entity_id: media_player.samsungtv_smart
          channel_down:
            icon: mdi:chevron-down-circle-outline
            service: media_player.play_media
            service_data:
              media_content_type: send_key
              media_content_id: KEY_CHDOWN
              entity_id: media_player.samsungtv_smart
          playpause:
            icon: mdi:play-pause
            service: media_player.media_play_pause
            service_data:
              entity_id: media_player.samsungtv_smart
          plex:
            icon: mdi:plex
            service: media_player.play_media
            service_data:
              media_content_id: 3201512006963
              media_content_type: app
              entity_id: media_player.samsungtv_smart
          tv:
            icon: mdi:television-box
            service: media_player.play_media
            service_data:
              media_content_type: send_key
              media_content_id: ST_TV
              entity_id: media_player.samsungtv_smart
          netflix:
            icon: mdi:netflix
            service: media_player.play_media
            service_data:
              media_content_id: 3201907018807
              media_content_type: app
              entity_id: media_player.samsungtv_smart
          prime_video:
            service: media_player.play_media
            service_data:
              media_content_id: 3201910019365
              media_content_type: app
              entity_id: media_player.samsungtv_smart
          youtube:
            icon: mdi:youtube-tv
            service: media_player.play_media
            service_data:
              media_content_id: 111299001912
              media_content_type: app
              entity_id: media_player.samsungtv_smart
          intelligent:
            icon: mdi:brightness-auto
            service: script.toggle_intelligent_mode_samsung_tv
          dinamico:
            icon: mdi:run-fast
            service: samsungtv_smart.select_picture_mode
            service_data:
              entity_id: media_player.samsungtv_smart
              picture_mode: Din√°mico
          estandar:
            icon: mdi:standard-definition
            service: samsungtv_smart.select_picture_mode
            service_data:
              entity_id: media_player.samsungtv_smart
              picture_mode: Est√°ndar
          natural:
            icon: mdi:image-filter-hdr
            service: samsungtv_smart.select_picture_mode
            service_data:
              entity_id: media_player.samsungtv_smart
              picture_mode: Natural
          pelicula:
            icon: mdi:movie-roll
            service: samsungtv_smart.select_picture_mode
            service_data:
              entity_id: media_player.samsungtv_smart
              picture_mode: Pel√≠cula
          filmmaker:
            icon: mdi:video-vintage
            service: samsungtv_smart.select_picture_mode
            service_data:
              entity_id: media_player.samsungtv_smart
              picture_mode: FILMMAKER MODE


  - path: remote-samsung
    subview: true
    theme: minimalist-mobile
    icon: mdi:remote-tv
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:tv-card
            entity: media_player.samsungtv_smart
            power_row:
              - power
            navigation_row:
              - buttons
            source_row:
              - return
              - home
              - channel_down
              - channel_up
            channel_row:
              - volume_mute
              - volume_down
              - volume_up
            media_control_row:
              - rewind
              - playpause
              - fast_forward
            apps_row:
              - netflix
              - youtube
              - plex
              - tv
            mode_row:
              - intelligent
              - dinamico
              - estandar
              - natural
              - pelicula
              - filmmaker
            custom_keys:
              power:
                icon: mdi:power
                service: media_player.toggle
                service_data:
                  entity_id: media_player.samsungtv_smart
              home:
                icon: mdi:home-circle-outline
                service: media_player.play_media
                service_data:
                  media_content_type: send_key
                  media_content_id: KEY_HOME
                  entity_id: media_player.samsungtv_smart
              return:
                icon: mdi:arrow-left-circle-outline
                service: media_player.play_media
                service_data:
                  media_content_type: send_key
                  media_content_id: KEY_RETURN
                  entity_id: media_player.samsungtv_smart
              channel_up:
                icon: mdi:chevron-up-circle-outline
                service: media_player.play_media
                service_data:
                  media_content_type: send_key
                  media_content_id: KEY_CHUP
                  entity_id: media_player.samsungtv_smart
              channel_down:
                icon: mdi:chevron-down-circle-outline
                service: media_player.play_media
                service_data:
                  media_content_type: send_key
                  media_content_id: KEY_CHDOWN
                  entity_id: media_player.samsungtv_smart
              playpause:
                icon: mdi:play-pause
                service: media_player.media_play_pause
                service_data:
                  entity_id: media_player.samsungtv_smart
              plex:
                icon: mdi:plex
                service: media_player.play_media
                service_data:
                  media_content_id: 3201512006963
                  media_content_type: app
                  entity_id: media_player.samsungtv_smart
              tv:
                icon: mdi:television-box
                service: media_player.play_media
                service_data:
                  media_content_type: send_key
                  media_content_id: ST_TV
                  entity_id: media_player.samsungtv_smart
              netflix:
                icon: mdi:netflix
                service: media_player.play_media
                service_data:
                  media_content_id: 3201907018807
                  media_content_type: app
                  entity_id: media_player.samsungtv_smart
              prime_video:
                service: media_player.play_media
                service_data:
                  media_content_id: 3201910019365
                  media_content_type: app
                  entity_id: media_player.samsungtv_smart
              youtube:
                icon: mdi:youtube-tv
                service: media_player.play_media
                service_data:
                  media_content_id: 111299001912
                  media_content_type: app
                  entity_id: media_player.samsungtv_smart
              intelligent:
                icon: mdi:brightness-auto
                service: script.toggle_intelligent_mode_samsung_tv
              dinamico:
                icon: mdi:run-fast
                service: samsungtv_smart.select_picture_mode
                service_data:
                  entity_id: media_player.samsungtv_smart
                  picture_mode: Din√°mico
              estandar:
                icon: mdi:standard-definition
                service: samsungtv_smart.select_picture_mode
                service_data:
                  entity_id: media_player.samsungtv_smart
                  picture_mode: Est√°ndar
              natural:
                icon: mdi:image-filter-hdr
                service: samsungtv_smart.select_picture_mode
                service_data:
                  entity_id: media_player.samsungtv_smart
                  picture_mode: Natural
              pelicula:
                icon: mdi:movie-roll
                service: samsungtv_smart.select_picture_mode
                service_data:
                  entity_id: media_player.samsungtv_smart
                  picture_mode: Pel√≠cula
              filmmaker:
                icon: mdi:video-vintage
                service: samsungtv_smart.select_picture_mode
                service_data:
                  entity_id: media_player.samsungtv_smart
                  picture_mode: FILMMAKER MODE
                
        #   - type: custom:mod-card
        #     card:
        #       type: custom:mushroom-chips-card
        #       chips:
        #         - type: back
        #     card_mod:
        #       style: |
        #         ha-card {display:none;}
        #         @media (orientation: portrait) {ha-card {display:block;position: absolute;bottom: -20px;}}
                